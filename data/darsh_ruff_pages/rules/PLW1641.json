{
    "what-it-does": "Checks for classes that implement __eq__ but not __hash__.",
    "why-is-this-bad": "A class that implements __eq__ but not __hash__ will have its hash\nmethod implicitly set to None, regardless of if a super class defines\n__hash__. This will cause the class to be unhashable, will in turn\ncause issues when using the class as a key in a dictionary or a member\nof a set.",
    "example": "class Person:\n    def __init__(self):\n        self.name = \"monty\"\n\n    def __eq__(self, other):\n        return isinstance(other, Person) and other.name == self.name\n\n\n\nUse instead:\n\n\nclass Person:\n    def __init__(self):\n        self.name = \"monty\"\n\n    def __eq__(self, other):\n        return isinstance(other, Person) and other.name == self.name\n\n    def __hash__(self):\n        return hash(self.name)\n\n\n\nThis issue is particularly tricky with inheritance. Even if a parent class correctly implements\nboth __eq__ and __hash__, overriding __eq__ in a child class without also implementing\n__hash__ will make the child class unhashable:\n\n\nclass Person:\n    def __init__(self):\n        self.name = \"monty\"\n\n    def __eq__(self, other):\n        return isinstance(other, Person) and other.name == self.name\n\n    def __hash__(self):\n        return hash(self.name)\n\n\nclass Developer(Person):\n    def __init__(self):\n        super().__init__()\n        self.language = \"python\"\n\n    def __eq__(self, other):\n        return (\n            super().__eq__(other)\n            and isinstance(other, Developer)\n            and self.language == other.language\n        )\n\n\nhash(Developer())  # TypeError: unhashable type: 'Developer'\n\n\n\nOne way to fix this is to retain the implementation of __hash__ from the parent class:\n\n\nclass Developer(Person):\n    def __init__(self):\n        super().__init__()\n        self.language = \"python\"\n\n    def __eq__(self, other):\n        return (\n            super().__eq__(other)\n            and isinstance(other, Developer)\n            and self.language == other.language\n        )\n\n    __hash__ = Person.__hash__",
    "example-split": {
        "example-before": "class Person:\n    def __init__(self):\n        self.name = \"monty\"\n\n    def __eq__(self, other):\n        return isinstance(other, Person) and other.name == self.name\n\n",
        "example-after": "\nclass Person:\n    def __init__(self):\n        self.name = \"monty\""
    }
}